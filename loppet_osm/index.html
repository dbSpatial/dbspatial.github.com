
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />
        <meta charset='utf-8'>
        <title>iD Customized for Adding Trails Used by the Loppet Foundation</title>
        <link rel='stylesheet' href='iD.css'>

        <!-- mobile devices -->
        <meta name='viewport' content='initial-scale=1.0 maximum-scale=1.0'>
        <meta name='apple-mobile-web-app-capable' content='yes' />
        <meta name='apple-mobile-web-app-status-bar-style' content='black-translucent' />

        <!--[if !IE]>-->
        <script src='iD.js'></script>
        <!--<![endif]-->
    </head>
    <body>
        <div id='id-container'></div>
        <script>
        console.log('initial hash',typeof window.location.hash,window.location.hash);
        if (typeof window.location.hash == 'undefined' || window.location.hash=='') {
          console.log(window.location.hash);
          window.location.hash='background=Mapbox&map=15/-93.32/44.98';
          console.log(window.location.hash);
        }
            defaults={
              "area": [
                  "category-landuse",
                  "category-water-area",
                  "area"
              ],
              "line": [
                  "loppet-path",
                  "category-path",
                  "category-road",
                  "category-water-line",
                  "line"
              ],
              "point": [
                  "point"
              ],
              "vertex": [
                  "vertex"
              ],
              "relation": [
                  "category-route",
                  "category-restriction",
                  "type/boundary",
                  "type/multipolygon",
                  "relation"
              ]
            };
            iD.dataPresets.defaults=defaults;
            imagery=[{"name":"Strava Global Heat","type":"tms","template":"https://globalheat.strava.com/tiles/both/color4/{zoom}/{x}/{y}.png","overlay":true,"description":"Strava Global Heat","scaleExtent":[13,17],"sourcetag":"Strava Global Heat","default":"yes"},{"name":"Strava Cycling Heat","type":"tms","template":"https://globalheat.strava.com/tiles/cycling/color4/{zoom}/{x}/{y}.png","overlay":true,"description":"Strava Global Cycling Heat","scaleExtent":[13,17],"sourcetag":"Strava Cycling Heat","default":"no"},{"name":"Strava Running Heat","type":"tms","template":"https://globalheat.strava.com/tiles/running/color4/{zoom}/{x}/{y}.png","overlay":true,"description":"Strava Global Running Heat","scaleExtent":[13,17],"sourcetag":"Strava Running Heat","default":"no"},{"name":"Strava Heat masked by OSM","type":"tms","template":"https://gometry.strava.com/osm_mask/tiles/both/color2/{zoom}/{x}/{y}.png","overlay":true,"description":"Strava Heat masked by OSM (experimental layer)","scaleExtent":[15,17],"sourcetag":"Strava Heat OSM Mask","default":"no"}];
            Array.prototype.push.apply(imagery,iD.dataImagery);
            //iD.dataPresets.fields['loppet-piste']
            iD.dataPresets.presets['loppet-path']={
              "geometry": ["line"],
              "fields": ["highway","surface","piste/type","piste/difficulty","piste/grooming","oneway","lit","cycleway","source"],
              "tags": { "highway":"path", "loppet":"yes" },
              "name": "Loppet Path"
            };
            if (typeof iD == 'undefined' || !iD.Detect().support) {
                document.getElementById('id-container').innerHTML = 'Sorry, your browser is not currently supported. Please use Potlatch 2 to edit the map.';
                document.getElementById('id-container').className = 'unsupported';
            } else {
                var id = iD.Context(window)
                  .presets(iD.dataPresets)
                  .imagery(imagery)
                  .minEditableZoom(15);

                id.ui()(document.getElementById('id-container'));
            }
        </script>
    </body>
</html>
